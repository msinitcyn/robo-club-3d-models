# 3D-модели для робоклуба

![Build STL Files](https://github.com/msinitcyn/robo-club-3d-models/actions/workflows/build-stl.yml/badge.svg)

## Проект: Лабиринт для робота

### Описание системы

Строим лабиринт для обучения робота навигации. Система состоит из:

**Основание:**
- Отверстия диаметром 5мм
- Шаг сетки: 12.5мм
- Монтажные точки для установки соединителей стен

**Стены:**
- Материал: фанера (9мм) или картон (2мм)
- Форма: прямоугольники напиленные по размеру
- Вставляются в пазы соединителей
- Для картона используйте модели с суффиксом `_flexible`

**3D-печатные соединители:**
- Высота: 10мм
- Толщина стенок: 2мм
- Ширина паза: 9мм (под фанеру)
- Вылет до монтажного отверстия: 56.5мм (4.5 шага сетки)

### Типы соединителей

1. **end_cap** - заглушка (1 выход)
2. **straight_joint** - прямой соединитель (2 выхода напротив)
3. **corner_joint** - угловой (2 выхода под 90°)
4. **t_joint** - T-образный (3 выхода)
5. **cross_joint** - крестовина (4 выхода)

Каждый тип доступен в 4 вариантах:
- Базовый (без штырей, для фанеры)
- `_dowel` (со штырями для крепления в основание)
- `_flexible` (гибкие стенки для картона, без штырей)
- `_dowel_flexible` (гибкие стенки + штыри)

**Всего: 20 моделей**

### Структура проекта

```
maze/
  scad/           # OpenSCAD исходники
    common.scad   # Общие модули и функции
    *_joint*.scad # Различные типы соединителей
  stl/            # Локально собранные STL (в .gitignore)
artifacts/        # CI/CD артефакты (автоматически)
  current/        # Последняя сборка из main ветки
  v1.0/           # Сборки по версиям (для тегов)
.github/
  workflows/      # GitHub Actions для автосборки
```

### Получение готовых STL файлов

**Вариант 1: Скачать с GitHub (рекомендуется)**
- Последняя версия: `artifacts/current/` в репозитории
- Стабильная версия: [Releases](../../releases) → скачать вложенные STL файлы

**Вариант 2: Собрать локально**
```bash
./export_all_stl.sh
```
STL файлы появятся в `maze/stl/`

### Использование

1. Скачать STL файлы из `artifacts/current/` или [Releases](../../releases)
2. Печатать нужные соединители
3. Подготовить стены из фанеры (9мм) или картона (2мм)
4. Собирать лабиринт, вставляя стены в пазы соединителей

### Разработка

1. Редактировать модели: `maze/scad/*.scad` файлы в OpenSCAD
2. Тестировать локально: `./export_all_stl.sh`
3. Коммитить изменения → GitHub Actions автоматически соберёт STL
4. Для релиза: создать тег `git tag v1.1 && git push origin v1.1`

### Параметры для модификации

В `common.scad` можно настроить:

**Основные размеры:**
- `CENTER_SIZE = 9` - размер центрального квадрата
- `SLEEVE_REACH = 56.5` - расстояние до монтажного отверстия
- `GROOVE_WIDTH = 9` - ширина паза (под фанеру)
- `WALL_HEIGHT = 10` - высота стенок
- `WALL_THICKNESS = 2` - толщина стенок
- `BASE_THICKNESS = 2` - толщина основания

**Штыри:**
- `DOWEL_DIAMETER = 4.5` - диаметр штыря
- `DOWEL_DEPTH = 3` - глубина штыря

**Гибкие стенки (для картона):**
- `CARDBOARD_THICKNESS = 2` - толщина картона
- `FLEXIBLE_WALL_HEIGHT = 20` - высота гибких стенок (в 2 раза выше)
- `CURVE_POWER = 2` - степень изгиба (2 = парабола)
- `TILT_ANGLE_EXTRA = 5` - дополнительный угол наклона

### CI/CD Pipeline

При пуше в GitHub автоматически запускается сборка STL:

**Для обычных коммитов (main ветка):**
- Собираются все STL файлы
- Коммитятся в `artifacts/current/`
- Доступны как GitHub Artifacts (90 дней)

**Для тегов версий (v1.0, v1.1, и т.д.):**
- Собираются все STL файлы
- Создаётся GitHub Release с вложенными STL
- Доступны как GitHub Artifacts с именем версии

Это позволяет всегда иметь готовые к печати файлы без необходимости локальной установки OpenSCAD.
